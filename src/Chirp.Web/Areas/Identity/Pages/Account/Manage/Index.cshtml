@page
@using Chirp.Core
@using Microsoft.AspNetCore.Mvc.TagHelpers
@model IndexModel
@{
    ViewData["Title"] = "Profile";
    ViewData["ActivePage"] = ManageNavPages.Index;
}
@inject SignInManager<Author> SignInManager   

<h3>@ViewData["Title"]</h3>
<div class="row">
    <div class="col-md-6">
        <p>Username: @(Model.Author.Name)</p>
        <p>Email: @(Model.Author.Email)</p>
        <h3>Following</h3>


        @{
            System.Diagnostics.Debug.Assert(Model.Follows != null, "Model.Follows != null");
        }
        @if (Model.Follows.Any())
        {
        <ul class="followlist">
            @foreach (var follow in Model.Follows)
            {
            <li>
                <strong>
                    <a href="/@follow.Followed">@follow.Followed</a>
                </strong>
            </li>
            }
        </ul>
        }
        else
        {
        <em>You're not following anyone.</em>
        }
        
        <h3>Cheeps</h3>
        @{
            System.Diagnostics.Debug.Assert(Model.Cheeps != null, "Model.Cheeps != null");
        }
        @if (Model.Cheeps.Any())
        {
        <ul id="messagelist" class="cheeps">
            @foreach (var cheep in Model.Cheeps)
            {
            <li>
                <strong>
                    <a href="/@cheep.Author">@cheep.Author</a>
                </strong>
                @cheep.Message
                <small>&mdash;@cheep.Timestamp</small>
            </li>
            }
        </ul>
        }
        else
        {
        <em>You have no cheeps so far.</em>
        }
    </div>
</div>


